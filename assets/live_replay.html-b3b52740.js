import{_ as i,r as o,o as l,c as r,g as c,a as t,b as n,d as s,w as p,e as a}from"./app-ef6f9170.js";const u={},v=t("h1",{id:"直播回放",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#直播回放","aria-hidden":"true"},"#"),n(" 直播回放")],-1),m=t("p",null,"注: 直播回放相关接口较新，随时可能出现变化。",-1),b=t("h2",{id:"获取直播回放列表",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#获取直播回放列表","aria-hidden":"true"},"#"),n(" 获取直播回放列表")],-1),k=t("blockquote",null,[t("p",null,"https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorGetReplayList")],-1),h=t("p",null,[t("em",null,"请求方法: GET")],-1),q=t("p",null,"认证方式: Cookie (SESSDATA)",-1),y={href:"https://link.bilibili.com/#/my-room/live-record",target:"_blank",rel:"noopener noreferrer"},_=a("<p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>page</td><td>num</td><td>页码</td><td>非必要</td><td>默认第1页</td></tr><tr><td>page_size</td><td>num</td><td>每页内容数量</td><td>非必要</td><td>默认30项，最大30项</td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>-101：未登录</td></tr><tr><td>message</td><td>str</td><td>提示信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>replay_info</td><td>arr</td><td>回放信息列表</td><td>无结果时为<code>null</code></td></tr><tr><td>pagination</td><td>obj</td><td>分页信息</td><td></td></tr><tr><td>archive_flag</td><td>bool</td><td>(?)</td><td>作用尚不明确</td></tr><tr><td>can_edit</td><td>num</td><td>(?)</td><td>作用尚不明确</td></tr></tbody></table><p><code>data.replay_info</code> 数组中的对象：</p>",8),g=t("thead",null,[t("tr",null,[t("th",null,"字段"),t("th",null,"类型"),t("th",null,"内容"),t("th",null,"备注")])],-1),E=t("tr",null,[t("td",null,"replay_id"),t("td",null,"num"),t("td",null,"直播回放id"),t("td")],-1),f=t("tr",null,[t("td",null,"live_info"),t("td",null,"obj"),t("td",null,"直播信息"),t("td")],-1),A=t("tr",null,[t("td",null,"video_info"),t("td",null,"obj"),t("td",null,"回放视频信息"),t("td")],-1),x=t("tr",null,[t("td",null,"alarm_info"),t("td",null,"obj"),t("td",null,"警报信息"),t("td")],-1),B=t("tr",null,[t("td",null,"room_id"),t("td",null,"num"),t("td",null,"直播间id"),t("td")],-1),S=t("tr",null,[t("td",null,"live_key"),t("td",null,"str"),t("td",null,"标记直播场次的key"),t("td")],-1),j=t("td",null,"start_time",-1),D=t("td",null,"num",-1),F=t("td",null,"直播开始秒时间戳",-1),z=t("td",null,"end_time",-1),T=t("td",null,"num",-1),w=t("td",null,"直播结束秒时间戳",-1),C=a(`<p><code>data.replay_info[i].live_info</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>title</td><td>str</td><td>直播标题</td><td>直播结束时的标题</td></tr><tr><td>cover</td><td>str</td><td>直播封面</td><td></td></tr><tr><td>live_time</td><td>num</td><td>直播时间</td><td>同<code>data.replay_info[i].start_time</code></td></tr><tr><td>live_type</td><td>num</td><td>直播类型?</td><td>作用尚不明确</td></tr></tbody></table><p><code>data.replay_info[i].video_info</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>replay_status</td><td>num</td><td>回放状态</td><td>作用尚不明确</td></tr><tr><td>estimated_time</td><td>str</td><td>直播回放合成结束时间</td><td>未合成时为<code>&quot;1970-01-01 08:00:00&quot;</code></td></tr><tr><td>duration</td><td>num</td><td>直播时长</td><td>单位秒</td></tr><tr><td>download_url</td><td>str</td><td>下载链接片段</td><td>整场直播回放合成成功时存在<br>建议通过<a href="#%E8%AF%B7%E6%B1%82%E6%95%B4%E5%9C%BA%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">请求整场直播回放下载链接</a>来获取下载链接</td></tr><tr><td>alert_code</td><td>num</td><td>快速检查警告代码</td><td>整场直播回放合成失败时不存在</td></tr><tr><td>alert_message</td><td>str</td><td>快速检查警告信息</td><td>整场直播回放合成失败时不存在</td></tr></tbody></table><p><code>data.replay_info[i].alarm_info</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>回放合成警报代码</td><td></td></tr><tr><td>message</td><td>str</td><td>回放合成错误信息</td><td></td></tr><tr><td>cur_time</td><td>num</td><td>当前时间戳</td><td>Unix秒时间戳</td></tr><tr><td>is_ban_publish</td><td>bool</td><td>是否禁止发布?</td><td></td></tr></tbody></table><p><code>data.pagination</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>page</td><td>num</td><td>请求的页码</td><td></td></tr><tr><td>page_size</td><td>num</td><td>内容数量</td><td></td></tr><tr><td>total</td><td>num</td><td>总计内容数量</td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>获取自己直播回放列表的第1页，每页2项</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorGetReplayList?page=1&amp;page_size=2&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;replay_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;replay_id&quot;</span><span class="token operator">:</span> <span class="token number">10707737</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;摆&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;live_time&quot;</span><span class="token operator">:</span> <span class="token number">1747509268</span><span class="token punctuation">,</span>
          <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;video_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;replay_status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;estimated_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1970-01-01 08:00:00&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">1820</span><span class="token punctuation">,</span>
          <span class="token property">&quot;alert_code&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;alert_message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;录像时长远小于开播时长，请关注直播时网络状况&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;alarm_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;录像生成失败，请稍后再试&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;cur_time&quot;</span><span class="token operator">:</span> <span class="token number">1747557808</span><span class="token punctuation">,</span>
          <span class="token property">&quot;is_ban_publish&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;room_id&quot;</span><span class="token operator">:</span> <span class="token number">18992371</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;609043243693510451&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1747509268</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1747511088</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;replay_id&quot;</span><span class="token operator">:</span> <span class="token number">10707664</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;摆&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;live_time&quot;</span><span class="token operator">:</span> <span class="token number">1747508293</span><span class="token punctuation">,</span>
          <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;video_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;replay_status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;estimated_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1970-01-01 08:00:00&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">206</span><span class="token punctuation">,</span>
          <span class="token property">&quot;alert_code&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;alert_message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;录像时长远小于开播时长，请关注直播时网络状况&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;alarm_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;录像生成失败，请稍后再试&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;cur_time&quot;</span><span class="token operator">:</span> <span class="token number">1747557808</span><span class="token punctuation">,</span>
          <span class="token property">&quot;is_ban_publish&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;room_id&quot;</span><span class="token operator">:</span> <span class="token number">18992371</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;609041817764368179&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1747508293</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1747508499</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">29</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;archive_flag&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;can_edit&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取已发布片段的信息" tabindex="-1"><a class="header-anchor" href="#获取已发布片段的信息" aria-hidden="true">#</a> 获取已发布片段的信息</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorGetVideoSliceList</p></blockquote><p><em>请求方式: GET</em></p><p>认证方式: Cookie (SESSDATA)</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>page</td><td>num</td><td>页码</td><td>非必要</td><td>默认第1页</td></tr><tr><td>page_size</td><td>num</td><td>每页内容数量</td><td>非必要</td><td>默认20项，最大20项</td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>-101：未登录</td></tr><tr><td>message</td><td>str</td><td>提示信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>list</td><td>arr</td><td>切片信息</td><td></td></tr><tr><td>page</td><td>num</td><td>请求的页码</td><td></td></tr><tr><td>page_size</td><td>num</td><td>内容数量</td><td></td></tr><tr><td>total</td><td>num</td><td>总计内容数量</td><td></td></tr></tbody></table><p><code>data.list</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>silce_id</td><td>num</td><td>切片id</td><td></td></tr><tr><td>av_title</td><td>str</td><td>切片标题</td><td></td></tr><tr><td>av_cover</td><td>str</td><td>切片封面</td><td></td></tr><tr><td>av_status</td><td>num</td><td>切片状态</td><td>1：发布中<br>2：已投稿<br>3：投稿失败</td></tr><tr><td>avid</td><td>num</td><td>切片视频的avid</td><td>状态为2时存在</td></tr><tr><td>ctime</td><td>str</td><td>切片创建时间</td><td></td></tr><tr><td>start_tm</td><td>str</td><td>切片开始时间</td><td></td></tr><tr><td>end_tm</td><td>str</td><td>切片结束时间</td><td></td></tr><tr><td>av_duration</td><td>num</td><td>切片时长</td><td>状态为2且创作中心出现有效视频时长时存在</td></tr><tr><td>failed_reason</td><td>str</td><td>失败原因</td><td>状态为3时存在，2024-09-01前发布失败的切片可能不存在</td></tr><tr><td>live_type</td><td>num</td><td>(?)</td><td>作用尚不明确</td></tr><tr><td>cnt_play</td><td>num</td><td>播放数</td><td>视频有播放时存在；若该页出现任意状态不为2的项也会不存在</td></tr><tr><td>cnt_danmaku</td><td>num</td><td>弹幕数</td><td>视频有弹幕时存在；若该页出现任意状态不为2的项也会不存在</td></tr></tbody></table><p><strong>示例：</strong></p><p>获取自己第1页的已发布片段信息，每页3项</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorGetVideoSliceList?page=1&amp;page_size=3&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;slice_id&quot;</span><span class="token operator">:</span> <span class="token number">882357</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025051720 error&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-18 18:13:13&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 21:07:04&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 21:16:00&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;slice_id&quot;</span><span class="token operator">:</span> <span class="token number">879189</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025051721 zzz 0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_status&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-18 00:32:52&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 21:07:34&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 23:02:03&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;failed_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;duration_false&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;slice_id&quot;</span><span class="token operator">:</span> <span class="token number">876259</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;202505171449&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;avid&quot;</span><span class="token operator">:</span> <span class="token number">114521830065531</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 14:49:18&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 14:19:36&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_tm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-17 14:23:48&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;av_duration&quot;</span><span class="token operator">:</span> <span class="token number">341</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">347</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取回放剪辑草稿列表" tabindex="-1"><a class="header-anchor" href="#获取回放剪辑草稿列表" aria-hidden="true">#</a> 获取回放剪辑草稿列表</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetDraftList</p></blockquote><p><em>请求方法: GET</em></p><p>认证方式: Cookie (SESSDATA)</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>page</td><td>num</td><td>页码</td><td>非必要</td><td>默认第1页</td></tr><tr><td>page_size</td><td>num</td><td>每页内容数量</td><td>非必要</td><td>默认30项，最大30项</td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-101：未登录<br>0：成功</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>draft_info</td><td>arr</td><td>草稿信息</td><td>无结果时为<code>null</code></td></tr><tr><td>pagination</td><td>obj</td><td>分页信息</td><td></td></tr></tbody></table><p><code>data.draft_info</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>num</td><td>回放剪辑id</td><td></td></tr><tr><td>title</td><td>str</td><td>回放剪辑标题</td><td></td></tr><tr><td>cover</td><td>str</td><td>回放剪辑封面</td><td>有封面时存在；若不存在将使用 https://s1.hdslb.com/bfs/static/blive/blfe-link-center/static/img/default.187078d.png</td></tr><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td></td></tr><tr><td>ctime</td><td>str</td><td>回放剪辑创建时间</td><td></td></tr><tr><td>live_start_time</td><td>str</td><td>直播开始时间</td><td></td></tr><tr><td>live_end_time</td><td>str</td><td>直播结束时间</td><td></td></tr><tr><td>live_type</td><td>num</td><td>(?)</td><td>作用尚不明确</td></tr></tbody></table><p><code>data.pagination</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>page</td><td>num</td><td>请求的页码</td><td></td></tr><tr><td>page_size</td><td>num</td><td>内容数量</td><td></td></tr><tr><td>total</td><td>num</td><td>总计内容数量</td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>请求自己的回放剪辑草稿列表</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetDraftList?page=1&amp;page_size=12&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;draft_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">988275</span><span class="token punctuation">,</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;直播场次 2025-05-19 20:45:04&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;609431465787395891&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-22 01:08:20&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_start_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-19 20:45:04&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_end_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-20 09:40:13&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">987665</span><span class="token punctuation">,</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;直播场次 2025-05-19 20:45:04 切片&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://i0.hdslb.com/bfs/live/9bdf1df3d823734c59382120a9a7c10b177dbefd.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;609431465787395891&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-21 20:28:48&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_start_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-19 20:45:04&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_end_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2025-05-20 09:40:13&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;live_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pagination&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;page&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;page_size&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="删除某个回放剪辑草稿" tabindex="-1"><a class="header-anchor" href="#删除某个回放剪辑草稿" aria-hidden="true">#</a> 删除某个回放剪辑草稿</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/DeleteSliceDraft</p></blockquote><p><em>请求方法: POST</em></p><p>认证方式: Cookie (SESSDATA)</p><p>鉴权方式: Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>draft_id</td><td>num</td><td>回放剪辑id</td><td>必要</td><td></td></tr><tr><td>csrf_token</td><td>str</td><td>CSRF Token（位于cookie）</td><td>非必要</td><td></td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-400：参数错误<br>-101：未登录<br>-111：csrf校验失败<br>0：成功<br>206：无可操作草稿</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td><code>0</code></td><td></td></tr><tr><td>message</td><td>str</td><td><code>&quot;&quot;</code></td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>删除回放剪辑id为<code>988275</code>的草稿</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/DeleteSliceDraft&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;draft_id=988275&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="请求整场直播回放下载链接" tabindex="-1"><a class="header-anchor" href="#请求整场直播回放下载链接" aria-hidden="true">#</a> 请求整场直播回放下载链接</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorVideoDownload</p></blockquote><p><em>请求方法: POST</em></p><p>认证方式: Cookie (SESSDATA)</p><p>鉴权方式: Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p>未生成整场直播回放时将进行生成。</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>record_id</td><td>num</td><td>直播回放id</td><td>必要（可选）</td><td><code>record_id</code>和<code>live_key</code>必选其一</td></tr><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要（可选）</td><td><code>record_id</code>和<code>live_key</code>必选其一</td></tr><tr><td>csrf_token</td><td>str</td><td>CSRF Token（位于cookie）</td><td>非必要</td><td></td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-101：未登录<br>-111：csrf校验失败<br>0：成功<br>100：非法参数<br>210：回放id或场次key无效</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>record</td><td>obj</td><td>回放状态</td><td></td></tr><tr><td>download_url</td><td>str</td><td>回放下载链接</td><td>完成时存在</td></tr><tr><td>download_url_list</td><td>arr</td><td>回放下载链接列表</td><td>完成时存在</td></tr></tbody></table><p><code>data.record</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>uid</td><td>num</td><td>用户mid</td><td></td></tr><tr><td>record_id</td><td>num</td><td>直播回放id</td><td></td></tr><tr><td>status</td><td>num</td><td>回放状态</td><td></td></tr><tr><td>estimated_time</td><td>num</td><td>预计结束时间</td><td>Unix秒时间戳</td></tr><tr><td>current_time</td><td>num</td><td>当前时间</td><td>Unix秒时间戳</td></tr><tr><td>merge_time</td><td>num</td><td>开始合并时间</td><td>Unix秒时间戳</td></tr><tr><td>toast</td><td>str</td><td>提示信息</td><td>失败时存在</td></tr></tbody></table><p><code>data.download_url_list</code> 数组：</p><table><thead><tr><th>项</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>0</td><td>str</td><td>回放下载链接</td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>请求回放id为<code>10597910</code>的下载链接</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorVideoDownload&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;record_id=10597910&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;live_key=607942821532667699&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;record&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">438160221</span><span class="token punctuation">,</span>
      <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10597910</span><span class="token punctuation">,</span>
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      <span class="token property">&quot;estimated_time&quot;</span><span class="token operator">:</span> <span class="token number">1747639543</span><span class="token punctuation">,</span>
      <span class="token property">&quot;current_time&quot;</span><span class="token operator">:</span> <span class="token number">1747639106</span><span class="token punctuation">,</span>
      <span class="token property">&quot;merge_time&quot;</span><span class="token operator">:</span> <span class="token number">1747638665</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;download_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://upos-sz-mirrorali.bilivideo.com/ugcever/n250519sa3hkpirw61hjskuit4d9fdsj.mp4?deadline=1747682306&amp;gen=record2vod&amp;os=upos&amp;trid=da40b42594d5446da29cb0d2b2f25f45&amp;uparams=deadline,gen,os,trid&amp;upsig=c6ac5f218af40b2c120b3f5add2e4d6b&amp;attname=直播回放_2025-05-13_20-49-04.mp4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;download_url_list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;https://upos-sz-mirrorali.bilivideo.com/ugcever/n250519sa3hkpirw61hjskuit4d9fdsj.mp4?deadline=1747682306&amp;gen=record2vod&amp;os=upos&amp;trid=da40b42594d5446da29cb0d2b2f25f45&amp;uparams=deadline,gen,os,trid&amp;upsig=c6ac5f218af40b2c120b3f5add2e4d6b&amp;attname=直播回放_2025-05-13_20-49-04.mp4&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取回放的信息" tabindex="-1"><a class="header-anchor" href="#获取回放的信息" aria-hidden="true">#</a> 获取回放的信息</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoUidRecordsSubsect</p></blockquote><p><em>请求方法: GET</em></p><p>认证方式: Cookie (SESSDATA)</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>record_id</td><td>num</td><td>直播回放id</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-400：参数错误<br>-101：未登录<br>0：成功</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td>失败时不可用</td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>list</td><td>arr</td><td>回放信息列表</td><td></td></tr></tbody></table><p><code>data.list</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>uid</td><td>num</td><td>用户mid</td><td></td></tr><tr><td>record_id</td><td>num</td><td>直播回放id</td><td></td></tr><tr><td>title</td><td>str</td><td>直播标题</td><td></td></tr><tr><td>cover</td><td>str</td><td>直播封面</td><td></td></tr><tr><td>status</td><td>num</td><td>回放状态</td><td></td></tr><tr><td>start_time</td><td>num</td><td>直播开始时间</td><td>Unix秒时间戳</td></tr><tr><td>end_time</td><td>num</td><td>直播结束时间</td><td>Unix秒时间戳</td></tr></tbody></table><p><strong>示例：</strong></p><p>获取回放id为<code>10707664</code>的信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoUidRecordsSubsect?record_id=10707664&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">438160221</span><span class="token punctuation">,</span>
        <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10707664</span><span class="token punctuation">,</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;摆&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;cover&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1747508293</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1747508499</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="轮询回放合成状态" tabindex="-1"><a class="header-anchor" href="#轮询回放合成状态" aria-hidden="true">#</a> 轮询回放合成状态</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoUidRecord</p></blockquote><p><em>请求方法: POST</em></p><p>认证方式: Cookie (SESSDATA)</p><p>鉴权方式: Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>records</td><td>str</td><td>直播回放id列表</td><td>必要</td><td>用<code>,</code>分隔</td></tr><tr><td>csrf_token</td><td>str</td><td>CSRF Token（位于cookie）</td><td>非必要</td><td></td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-101：未登录<br>-400：参数错误<br>0：成功</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>list</td><td>arr</td><td>查询结果</td><td>无效的id会被忽略</td></tr></tbody></table><p><code>data.list</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>uid</td><td>num</td><td>用户mid</td><td></td></tr><tr><td>record_id</td><td>num</td><td>直播回放id</td><td></td></tr><tr><td>status</td><td>num</td><td>回放状态</td><td></td></tr><tr><td>current_time</td><td>num</td><td>当前时间戳</td><td>Unix秒时间戳</td></tr><tr><td>estimated_time</td><td>num</td><td>预计结束时间戳</td><td>初次<a href="#%E8%AF%B7%E6%B1%82%E6%95%B4%E5%9C%BA%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">请求回放下载链接</a>后存在</td></tr><tr><td>merge_time</td><td>num</td><td>合成开始时间戳</td><td>初次<a href="#%E8%AF%B7%E6%B1%82%E6%95%B4%E5%9C%BA%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">请求回放下载链接</a>后存在</td></tr></tbody></table><p><strong>示例：</strong></p><p>查询各种回放id</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoUidRecord&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;records=10727160,10597910,10687720,10230000,99999999&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">91089731</span><span class="token punctuation">,</span>
        <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10230000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;current_time&quot;</span><span class="token operator">:</span> <span class="token number">1747641604</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">438160221</span><span class="token punctuation">,</span>
        <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10597910</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token property">&quot;estimated_time&quot;</span><span class="token operator">:</span> <span class="token number">1747639543</span><span class="token punctuation">,</span>
        <span class="token property">&quot;current_time&quot;</span><span class="token operator">:</span> <span class="token number">1747641604</span><span class="token punctuation">,</span>
        <span class="token property">&quot;merge_time&quot;</span><span class="token operator">:</span> <span class="token number">1747638665</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">438160221</span><span class="token punctuation">,</span>
        <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10687720</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">-30</span><span class="token punctuation">,</span>
        <span class="token property">&quot;estimated_time&quot;</span><span class="token operator">:</span> <span class="token number">1747635525</span><span class="token punctuation">,</span>
        <span class="token property">&quot;current_time&quot;</span><span class="token operator">:</span> <span class="token number">1747641604</span><span class="token punctuation">,</span>
        <span class="token property">&quot;merge_time&quot;</span><span class="token operator">:</span> <span class="token number">1747635486</span><span class="token punctuation">,</span>
        <span class="token property">&quot;toast&quot;</span><span class="token operator">:</span> <span class="token string">&quot;因直播过程中存在推流质量问题（网络波动或丢包），本场直播回放无法合成&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">3493299121817771</span><span class="token punctuation">,</span>
        <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10727160</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;current_time&quot;</span><span class="token operator">:</span> <span class="token number">1747641604</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取切片视频流" tabindex="-1"><a class="header-anchor" href="#获取切片视频流" aria-hidden="true">#</a> 获取切片视频流</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetSliceStream</p></blockquote><p><em>请求方法: GET</em></p><p>认证方式: Cookie (SESSDATA)</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].live_key</code></td></tr><tr><td>start_time</td><td>num</td><td>直播开始时间戳</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].start_time</code></td></tr><tr><td>end_time</td><td>num</td><td>直播结束时间戳</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].end_time</code></td></tr><tr><td>web_location</td><td>str</td><td>(?)</td><td>非必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-400：参数缺失<br>-101：未登录<br>0：成功<br>100：非法参数<br>202：场次无效</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>list</td><td>arr</td><td>直播回放视频列表</td><td>如果该场回放没有视频流将为<code>null</code></td></tr></tbody></table><p><code>data.list</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>start_time</td><td>num</td><td>片段开始时间戳</td><td>Unix秒时间戳</td></tr><tr><td>end_time</td><td>num</td><td>片段结束时间戳</td><td>Unix秒时间戳</td></tr><tr><td>stream</td><td>str</td><td>直播回放视频流</td><td></td></tr><tr><td>type</td><td>num</td><td>类型?</td><td>2：一般回放?</td></tr></tbody></table><p><strong>示例：</strong></p><p>获取某个场次的视频流</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetSliceStream?live_key=607113721045847859&amp;start_time=1746863101&amp;end_time=1746879299&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1746863103</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1746879246</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stream&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://bvc-live.bilivideo.com/hls-record-gateway/videoPlay?biz_id=live2vod-clip&amp;end_time=1746879246&amp;header_name=1746863103.m4s&amp;host_id=edge-hls-bvc-self-cn-jsyz-ct-03-59-6d854b4bd8-gnlb7&amp;no_end=0&amp;schema=https&amp;sign=12f649dd540096672745d60b84f18eda&amp;start_time=1746863103&amp;stream_name=live_438160221_32373699&amp;ts=1752930893&amp;version=2&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1746879267</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1746879269</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stream&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://bvc-live.bilivideo.com/hls-record-gateway/videoPlay?biz_id=live2vod-clip&amp;end_time=1746879269&amp;header_name=1746863104.m4s&amp;host_id=edge-hls-bvc-self-cn-jsyz-ct-03-59-6d854b4bd8-gnlb7&amp;no_end=0&amp;schema=https&amp;sign=5c63605f1fa88561a6257b6812725b4f&amp;start_time=1746879267&amp;stream_name=live_438160221_32373699&amp;ts=1752930893&amp;version=2&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1746879269</span><span class="token punctuation">,</span>
        <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1746879298</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stream&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://bvc-live.bilivideo.com/hls-record-gateway/videoPlay?biz_id=live2vod-clip&amp;end_time=1746879298&amp;header_name=1746863105.m4s&amp;host_id=edge-hls-bvc-self-cn-jsyz-ct-03-59-6d854b4bd8-gnlb7&amp;no_end=0&amp;schema=https&amp;sign=70929627354f4380b54b97fcdb69c8a2&amp;start_time=1746879269&amp;stream_name=live_438160221_32373699&amp;ts=1752930893&amp;version=2&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取直播会话数据" tabindex="-1"><a class="header-anchor" href="#获取直播会话数据" aria-hidden="true">#</a> 获取直播会话数据</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetLiveSessionData</p></blockquote><p><em>请求方法: GET</em></p><p>认证方式: Cookie (SESSDATA)</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td></td></tr><tr><td>start_tm</td><td>str</td><td>开始时间</td><td>必要</td><td>格式为<code>yyyy-mm-dd+HH:MM:SS</code>，时区为<code>UTC+08:00</code>（中国标准时间）；取值对实际无影响</td></tr><tr><td>end_tm</td><td>str</td><td>开始时间</td><td>必要</td><td>格式为<code>yyyy-mm-dd+HH:MM:SS</code>，时区为<code>UTC+08:00</code>（中国标准时间）；取值对实际无影响</td></tr><tr><td>web_location</td><td>str</td><td>(?)</td><td></td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-500：服务器错误<br>-101：未登录<br>0：成功<br>100：非法参数<br>202：场次无效</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>session_data</td><td>arr</td><td>会话数据</td><td></td></tr><tr><td>max_danmaku</td><td>num</td><td>弹幕最多的时间戳</td><td>Unix秒时间戳，没有则为<code>0</code></td></tr><tr><td>max_pcu</td><td>num</td><td>进房最多的时间戳</td><td>Unix秒时间戳，没有则为<code>0</code></td></tr><tr><td>max_value</td><td>num</td><td>(?)</td><td>效果未知</td></tr><tr><td>high_light_data</td><td>arr</td><td>高光时刻数据</td><td></td></tr><tr><td>ass_url</td><td>str</td><td>ASS字幕链接</td><td>用作弹幕显示</td></tr></tbody></table><p><code>data.session_data</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>ts</td><td>num</td><td>采样时间</td><td>Unix秒时间戳</td></tr><tr><td>value</td><td>num</td><td>弹幕数量</td><td></td></tr></tbody></table><p><code>data.high_light_data</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>num</td><td>高光id</td><td></td></tr><tr><td>type</td><td>num</td><td>高光类型</td><td>1：弹幕<br>2：进房</td></tr><tr><td>start_time</td><td>num</td><td>高光开始时间戳</td><td>Unix秒时间戳</td></tr><tr><td>end_time</td><td>num</td><td>高光结束时间戳</td><td>Unix秒时间戳</td></tr><tr><td>title</td><td>str</td><td>高光提示标题</td><td></td></tr><tr><td>cover</td><td>str</td><td>(?)</td><td>目前为<code>&quot;&quot;</code></td></tr><tr><td>extra</td><td>str</td><td>(?)</td><td>目前为<code>&quot;&quot;</code></td></tr></tbody></table><p><strong>示例：</strong></p><p>获取场次key为<code>607113721045847859</code>的会话数据</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetLiveSessionData?live_key=607113721045847859&amp;start_tm=0000-01-01+00:00:00&amp;end_tm=1970-01-01+00:00:00&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-jsonc line-numbers-mode" data-ext="jsonc"><pre class="language-jsonc"><code>{
  &quot;code&quot;: 0,
  &quot;message&quot;: &quot;0&quot;,
  &quot;ttl&quot;: 1,
  &quot;data&quot;: {
    &quot;session_data&quot;: [
      {
        &quot;ts&quot;: 1746863100,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863160,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863220,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863280,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863340,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863400,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863460,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863520,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863580,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863640,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863700,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863760,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746863820,
        &quot;value&quot;: 0
      },
      // 省略100多条数据
      {
        &quot;ts&quot;: 1746878520,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878580,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878640,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878700,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878760,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878820,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878880,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746878940,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746879000,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746879060,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746879120,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746879180,
        &quot;value&quot;: 0
      },
      {
        &quot;ts&quot;: 1746879240,
        &quot;value&quot;: 0
      }
    ],
    &quot;max_danmaku&quot;: 1746864660,
    &quot;max_pcu&quot;: 1746864660,
    &quot;max_value&quot;: 0,
    &quot;high_light_data&quot;: [
      {
        &quot;id&quot;: 6226272,
        &quot;type&quot;: 1,
        &quot;start_time&quot;: 1746873300,
        &quot;end_time&quot;: 1746873480,
        &quot;title&quot;: &quot;弹幕高光 Top 1&quot;,
        &quot;cover&quot;: &quot;&quot;,
        &quot;extra&quot;: &quot;&quot;
      },
      {
        &quot;id&quot;: 6226274,
        &quot;type&quot;: 1,
        &quot;start_time&quot;: 1746873120,
        &quot;end_time&quot;: 1746873420,
        &quot;title&quot;: &quot;弹幕高光 Top 2&quot;,
        &quot;cover&quot;: &quot;&quot;,
        &quot;extra&quot;: &quot;&quot;
      },
      {
        &quot;id&quot;: 6226271,
        &quot;type&quot;: 2,
        &quot;start_time&quot;: 1746864600,
        &quot;end_time&quot;: 1746864780,
        &quot;title&quot;: &quot;进房高光时刻&quot;,
        &quot;cover&quot;: &quot;&quot;,
        &quot;extra&quot;: &quot;&quot;
      }
    ],
    &quot;ass_url&quot;: &quot;https://jssz-boss.hdslb.com/live2arc_anchor_video/dmass_1899237171_607113721045847859.ass?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=y4zI4XTQzlOkmSKg%2F20250520%2Fjssz%2Fs3%2Faws4_request&amp;X-Amz-Date=20250520T130358Z&amp;X-Amz-Expires=7200&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=5e3ddfbcb8893dc6e76deea7981165e18e5df9a7579f4e6e97c7a32abec53d84&quot;
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="获取某个时间的视频帧" tabindex="-1"><a class="header-anchor" href="#获取某个时间的视频帧" aria-hidden="true">#</a> 获取某个时间的视频帧</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoKeyFrame</p></blockquote><p><em>请求方法: POST</em></p><p>认证方式: Cookie (SESSDATA)</p><p>鉴权方式: Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>url参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>正文参数（ application/json ）：</strong></p><p>根对象：</p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td></td></tr><tr><td>time_list</td><td>str</td><td>秒时间戳列表，用<code>,</code>分隔</td><td>必要</td><td>时间间隔低于30秒将会导致只提供部分内容</td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-400：请求错误<br>-111：csrf校验失败<br>-101：未登录<br>0：成功</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>成功时为<code>&quot;0&quot;</code></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>list</td><td>arr</td><td>指定时间的视频帧列表</td><td>场次key无效时为<code>null</code></td></tr></tbody></table><p><code>data.list</code> 数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>ts</td><td>num</td><td>时间戳</td><td>对应请求的<code>time_list</code>其中某一个</td></tr><tr><td>url</td><td>str</td><td>该时间的视频帧</td><td>该时间有视频时存在</td></tr></tbody></table><p><strong>示例：</strong></p><p>获取某场直播的视频帧</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/GetAnchorVideoKeyFrame?csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-H</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-d</span> <span class="token string">&#39;{&quot;live_key&quot;:&quot;609431465787395891&quot;,&quot;time_list&quot;:&quot;174758900,1747658930,1747658960&quot;}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">174758900</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">1747658930</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://jssz-boss.hdslb.com/live2arc_anchor_video/live_438160221_32373699_20250519204900.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=y4zI4XTQzlOkmSKg%2F20250520%2Fjssz%2Fs3%2Faws4_request&amp;X-Amz-Date=20250520T180202Z&amp;X-Amz-Expires=7200&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=8d42a3d5fd1995e5e2bf98d453a986bec48529a9ae97d5d7eedee8a59b22418a&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;ts&quot;</span><span class="token operator">:</span> <span class="token number">1747658960</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://jssz-boss.hdslb.com/live2arc_anchor_video/live_438160221_32373699_20250519205001.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=y4zI4XTQzlOkmSKg%2F20250520%2Fjssz%2Fs3%2Faws4_request&amp;X-Amz-Date=20250520T180202Z&amp;X-Amz-Expires=7200&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=f4a3803d4147492ced14eefbb6953e772b886e195d51dbfac800e77320adeba2&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="投稿直播回放片段" tabindex="-1"><a class="header-anchor" href="#投稿直播回放片段" aria-hidden="true">#</a> 投稿直播回放片段</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorPublishVideoSlice</p></blockquote><p><em>请求方法: POST</em></p><p>认证方式: Cookie (SESSDATA)</p><p>鉴权方式: Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td>必须为自己的live_key</td></tr><tr><td>start_ts</td><td>num</td><td>开始时间戳</td><td>必要</td><td>开始和结束时间目前相差不能大于2小时</td></tr><tr><td>end_ts</td><td>num</td><td>结束时间戳</td><td>必要</td><td>开始和结束时间目前相差不能大于2小时</td></tr><tr><td>av_title</td><td>str</td><td>切片标题</td><td>必要</td><td>不能与现有标题重复</td></tr><tr><td>av_cover</td><td>str</td><td>切片封面URL</td><td>必要</td><td>必须为<code>.hdslb.com</code>域名下的图片，否则合成结束时会出错</td></tr><tr><td>av_highlight</td><td>num</td><td>高光绑定?</td><td>非必要</td><td></td></tr><tr><td>with_subtitle</td><td>num</td><td>是否自动生成字幕?</td><td>非必要</td><td>效果不明确</td></tr><tr><td>with_danmaku</td><td>num</td><td>是否带弹幕?</td><td>非必要</td><td>传递<code>1</code>时可能导致处于“发布中”状态时不在<a href="#%E8%8E%B7%E5%8F%96%E5%B7%B2%E5%8F%91%E5%B8%83%E7%89%87%E6%AE%B5%E7%9A%84%E4%BF%A1%E6%81%AF">获取已发布片段的信息</a>中显示</td></tr><tr><td>with_reserve</td><td>num</td><td>(?)</td><td>非必要</td><td>作用尚不明确</td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>-111：csrf校验失败<br>-101：未登录<br>0：成功<br>4000：时长过长<br>4001：操作太快<br>4002：片段已投稿<br>4003：请选择精彩片段再投稿哦<br>4006：标题已使用</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td></td></tr><tr><td>ttl</td><td>num</td><td><code>1</code></td><td></td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td>成功时有效</td></tr></tbody></table><p><code>data</code> 对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>video_slice_id</td><td>num</td><td>切片id</td><td></td></tr></tbody></table><p>注: 若返回值出现4001不一定就是操作太快，不提供某些必要参数或某个参数不正确也会导致返回4001。</p><p><strong>示例：</strong></p><p>为某个场次投稿切片</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/anchorVideo/AnchorPublishVideoSlice&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;live_key=609431465787395891&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;start_ts=1747680306&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;end_ts=1747687506&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;av_title=2025051920&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;av_cover=https://i0.hdslb.com/bfs/live/59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;av_highlight=0&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;with_subtitle=0&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;with_danmaku=0&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;video_slice_id&quot;</span><span class="token operator">:</span> <span class="token number">898374</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="下载整场直播回放的流程" tabindex="-1"><a class="header-anchor" href="#下载整场直播回放的流程" aria-hidden="true">#</a> 下载整场直播回放的流程</h2>`,195),V={href:"https://link.bilibili.com/#/my-room/live-record",target:"_blank",rel:"noopener noreferrer"},G=a('<ol><li><p>先<a href="#%E8%AF%B7%E6%B1%82%E6%95%B4%E5%9C%BA%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">请求整场直播回放下载链接</a>接口，让它开始合成回放；</p></li><li><p>(可选)请求<a href="#%E8%8E%B7%E5%8F%96%E5%9B%9E%E6%94%BE%E7%9A%84%E4%BF%A1%E6%81%AF">获取回放的信息</a>接口，生成合成进度页面；</p></li><li><p><a href="#%E8%BD%AE%E8%AF%A2%E5%9B%9E%E6%94%BE%E5%90%88%E6%88%90%E7%8A%B6%E6%80%81">轮询回放合成状态</a>，当状态变为<code>30</code>转到流程4，变为<code>-30</code>转到流程5；</p></li><li><p>再次<a href="#%E8%AF%B7%E6%B1%82%E6%95%B4%E5%9C%BA%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5">请求整场直播回放下载链接</a>，获取下载链接并下载。</p></li><li><p>请求<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>，刷新页面并根据信息提示失败。</p></li></ol><h2 id="直播回放片段发布页面" tabindex="-1"><a class="header-anchor" href="#直播回放片段发布页面" aria-hidden="true">#</a> 直播回放片段发布页面</h2><p>通过此处的链接可以打开直播回放片段发布页面。</p><blockquote><p>https://live.bilibili.com/web-cut/quick-publish.html (网页端)</p></blockquote><blockquote><p>https://live.bilibili.com/web-cut/quick-publish-mobile.html (移动端)</p></blockquote><p>注：移动端强制限制只能投稿15分钟的片段，网页端则看<a href="#%E6%8A%95%E7%A8%BF%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E7%89%87%E6%AE%B5">投稿直播回放片段</a>接口允许多长的时间。</p><p><strong>url查询参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>start_time</td><td>num</td><td>直播开始时间</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].start_time</code></td></tr><tr><td>end_time</td><td>num</td><td>直播结束时间</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].end_time</code></td></tr><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td>对应<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>的<code>data.replay_info[i].live_key</code></td></tr><tr><td>cover</td><td>str</td><td>封面URL</td><td>非必要</td><td>可以自定义封面，或者在<a href="#%E8%8E%B7%E5%8F%96%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E5%88%97%E8%A1%A8">获取直播回放列表</a>使用直播封面</td></tr></tbody></table><p><strong>示例链接：</strong></p><p>网页端： https://live.bilibili.com/web-cut/quick-publish.html?start_time=1747508293&amp;end_time=1747508499&amp;live_key=609041817764368179&amp;cover=https%3A%2F%2Fi0.hdslb.com%2Fbfs%2Flive%2F59fc254c1f51a962dbf69ae85e4920f2f6fb8dcd.png</p><p>移动端： https://live.bilibili.com/web-cut/quick-publish-mobile.html?start_time=1747508293&amp;end_time=1747508499&amp;live_key=609041817764368179</p><h2 id="直播回放剪辑页面" tabindex="-1"><a class="header-anchor" href="#直播回放剪辑页面" aria-hidden="true">#</a> 直播回放剪辑页面</h2><p>此链接用于打开直播回放轻剪辑页面，在点击<a href="#%E7%9B%B4%E6%92%AD%E5%9B%9E%E6%94%BE%E7%89%87%E6%AE%B5%E5%8F%91%E5%B8%83%E9%A1%B5%E9%9D%A2">直播回放片段发布页面</a>的“高级剪辑工具”或某一个<a href="#%E8%8E%B7%E5%8F%96%E5%9B%9E%E6%94%BE%E5%89%AA%E8%BE%91%E8%8D%89%E7%A8%BF%E5%88%97%E8%A1%A8">回放剪辑草稿</a>后自动打开。</p><blockquote><p>https://live.bilibili.com/web-cut/index.html</p></blockquote><p><strong>url查询参数：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>start_time</td><td>num</td><td>直播开始时间戳</td><td>必要</td><td>用于<a href="#%E8%8E%B7%E5%8F%96%E5%88%87%E7%89%87%E8%A7%86%E9%A2%91%E6%B5%81">获取切片视频流</a></td></tr><tr><td>end_time</td><td>num</td><td>直播结束时间戳</td><td>必要</td><td>用于<a href="#%E8%8E%B7%E5%8F%96%E5%88%87%E7%89%87%E8%A7%86%E9%A2%91%E6%B5%81">获取切片视频流</a></td></tr><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td>必要</td><td>用于<a href="#%E8%8E%B7%E5%8F%96%E5%88%87%E7%89%87%E8%A7%86%E9%A2%91%E6%B5%81">获取切片视频流</a></td></tr><tr><td>draft_id</td><td>num</td><td>回放剪辑id</td><td>必要</td><td></td></tr></tbody></table><p><strong>示例链接：</strong> https://live.bilibili.com/web-cut/index.html?start_time=1747658704&amp;end_time=1747705213&amp;live_key=609431465787395891&amp;draft_id=988275</p>',17);function U(X,R){const e=o("ExternalLinkIcon"),d=o("RouterLink");return l(),r("div",null,[v,c(" 网页端: https://link.bilibili.com/#/my-room/live-record ;移动端: https://live.bilibili.com/p/html/live-app-playback/index.html#new "),m,b,k,h,q,t("p",null,[n("只能获取自己14天的回放，详细信息请查看"),t("a",y,[n("对应页面"),s(e)])]),_,t("table",null,[g,t("tbody",null,[E,f,A,x,B,S,t("tr",null,[j,D,F,t("td",null,[n("调用"),s(d,{to:"/docs/live/manage.html#%E5%BC%80%E5%A7%8B%E7%9B%B4%E6%92%AD"},{default:p(()=>[n("开始直播")]),_:1}),n("接口的时间")])]),t("tr",null,[z,T,w,t("td",null,[n("调用"),s(d,{to:"/docs/live/manage.html#%E5%85%B3%E9%97%AD%E7%9B%B4%E6%92%AD"},{default:p(()=>[n("关闭直播")]),_:1}),n("接口的时间")])])])]),C,t("p",null,[n("此处的流程是从"),t("a",V,[n("直播回放"),s(e)]),n("的“下载回放”功能得出的。")]),G])}const L=i(u,[["render",U],["__file","live_replay.html.vue"]]);export{L as default};
